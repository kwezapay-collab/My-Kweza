<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard | My Kweza</title>
    <script src="theme.js"></script>
    <link rel="stylesheet" href="index.css">
    <script src="https://cdn.jsdelivr.net/npm/lucide@0.344.0/dist/umd/lucide.min.js"></script>
    <link rel="manifest" href="/manifest.webmanifest">
    <meta name="theme-color" content="#1a4d6e">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="My Kweza">
    <link rel="apple-touch-icon" href="/icons/kweza-192.png">
</head>

<body class="scrollable">
    <main class="main-content">
        <!-- Dashboard Header -->
        <header class="dashboard-page-header"
            style="margin-bottom: 1rem; display: flex; justify-content: flex-end; align-items: flex-end;">
            <button id="superAdminBtn" class="btn btn-secondary"
                style="display: none; border: 1px solid var(--accent); color: var(--accent);"
                onclick="window.myKwezaPageTransition.go('/super-admin.html')">
                <i data-lucide="shield-check" style="width: 16px; height: 16px; margin-right: 8px;"></i>
                Super Admin Access
            </button>
        </header>

        <!-- Brand Label -->
        <div class="dashboard-section-label animate-fade"
            style="text-align: center; margin-top: 1.5rem; margin-bottom: 0.5rem; font-weight: 700; font-size: 1.2rem; color: var(--text);">
            MyKweza</div>

        <!-- Unified Stats Card (Visible to all) -->
        <div id="earningsCard" class="glass-card unified-stats-card earnings-card animate-fade">
            <div class="earnings-card-top">
                <div class="earnings-card-headline">
                    <p class="earnings-card-kicker">Available balance</p>
                    <p class="earnings-card-type">Earnings Card</p>
                </div>
                <div class="earnings-card-balance-row">
                    <img src="/cardchip.png" alt="" class="earnings-card-chip-image" aria-hidden="true">
                    <p class="earnings-card-balance">MWK&nbsp;<span id="totalVal">0.00</span></p>
                    <span class="earnings-card-mark" aria-hidden="true">
                        <span class="earnings-card-mark-circle"></span>
                        <span class="earnings-card-mark-circle"></span>
                    </span>
                </div>
                <p class="earnings-card-number" id="earningsCardNumber">----</p>
            </div>
            <div class="earnings-card-footer">
                <div class="earnings-card-meta">
                    <span class="earnings-card-meta-label">Date</span>
                    <strong id="earningsValidThru">--/--/--</strong>
                </div>
                <div class="earnings-card-meta">
                    <span class="earnings-card-meta-label">Card Holder</span>
                    <strong id="earningsCardHolder">--</strong>
                </div>
            </div>
        </div>

        <!-- Quick Actions Label -->
        <div class="dashboard-section-label animate-fade"
            style="text-align: center; margin-top: 2rem; margin-bottom: 1rem; font-weight: 600; font-size: 1rem; color: var(--text-muted); text-transform: lowercase;">
            quick actions</div>

        <div class="dashboard-icon-actions">
            <div id="dashboardMenuMount" class="nav-menu-action-mount animate-fade"></div>

            <a class="dashboard-action-btn animate-fade" id="withdrawalsHubSection" href="/withdrawals-history.html">
                <span class="dashboard-action-btn-icon"><i data-lucide="wallet"></i></span>
                <span class="dashboard-action-btn-label">Request Withdrawal</span>
            </a>

            <a class="dashboard-action-btn animate-fade" id="founderWeeklyReportsPanel" style="display: none;"
                href="/founder-weekly-reports.html">
                <span class="dashboard-action-btn-icon"><i data-lucide="file-text"></i></span>
                <span class="dashboard-action-btn-label">Software Development Weekly Report</span>
            </a>

            <a class="dashboard-action-btn animate-fade" href="/report-complaint.html">
                <span class="dashboard-action-btn-icon"><i data-lucide="message-square"></i></span>
                <span class="dashboard-action-btn-label">Report Complaint</span>
            </a>

            <a class="dashboard-action-btn animate-fade" href="/payouts-history.html">
                <span class="dashboard-action-btn-icon"><i data-lucide="history"></i></span>
                <span class="dashboard-action-btn-label">Recent Payouts</span>
            </a>

            <a id="branchRevenueReportBtn" class="dashboard-action-btn animate-fade" style="display: none;"
                href="/branch-revenue-report.html">
                <span class="dashboard-action-btn-icon"><i data-lucide="building-2"></i></span>
                <span id="branchRevenueReportBtnLabel" class="dashboard-action-btn-label">Branch Revenue
                    Reporting</span>
            </a>
        </div>

        <!-- Notification Center -->
        <div class="notification-center-section animate-fade">
            <h2 class="notification-center-title">Notification Centre</h2>
            <div id="notificationCenterList" class="notification-center-list">
                <!-- Notifications will be injected here -->
                <div class="notification-center-empty">No new notifications</div>
            </div>
        </div>

        <div id="financialNotifyModal" class="finance-modal-backdrop" style="display: none;">
            <div class="glass-card finance-modal-card">
                <div
                    style="display: flex; justify-content: space-between; align-items: center; gap: 1rem; margin-bottom: 0.8rem;">
                    <h3 style="margin: 0;">Mark Paid + Notify</h3>
                    <button id="financialNotifyCloseBtn" class="nav-icon-btn" type="button"
                        aria-label="Close notification modal">
                        <i data-lucide="x"></i>
                    </button>
                </div>
                <p id="financialNotifyTarget"
                    style="color: var(--text-muted); font-size: 0.85rem; margin-bottom: 1rem;">--</p>
                <div class="input-group" style="margin-bottom: 1rem;">
                    <label>Notification Message</label>
                    <textarea id="financialNotifyMessage" placeholder="Enter payment notification message"></textarea>
                </div>
                <div class="finance-modal-actions"
                    style="display: flex; justify-content: flex-end; gap: 0.7rem; flex-wrap: wrap;">
                    <button id="financialNotifyCancelBtn" class="btn btn-secondary" type="button">Cancel</button>
                    <button id="financialNotifySendBtn" class="btn btn-primary" type="button">Send</button>
                </div>
            </div>
        </div>
    </main>

    <script src="responsive-tables.js"></script>
    <script src="dashboard.js"></script>

    <script src='/pwa.js'></script>
</body>

</html>